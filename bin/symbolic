#!/usr/bin/env perl6

use v6;

# simple command-line interface
# a few other front ends eventually could be cool
    # REPL
    # GUI analyzer/solver/teacher

use Math::Symbolic;

sub MAIN ($expression, $isolate_var?, Bool:D :$perl-routine = False, *%vars) {
    my $obj = Math::Symbolic.new($expression);
    #say ~$obj;
    #$obj.dump_tree;

    $obj.evaluate(|%vars) if %vars;
    #$obj.dump_tree;

    if defined $isolate_var {
        if $isolate_var eq '0' { $obj.poly }
        else { $obj.isolate: $isolate_var }
    }
    #$obj.dump_tree;

    $obj.simplify;

    say $perl-routine ?? $obj.routine !! $obj.Str;
}


